(this.webpackJsonptest2=this.webpackJsonptest2||[]).push([[0],{10:function(e,t,n){},13:function(e,t,n){},21:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,a,i=n(1),s=n.n(i),o=n(14),l=n.n(o),c=(n(21),n(15)),u=n(11),d=n.n(u),h=n(16),f=n(3),v=n(6),m=n(5),b=n(4),w=n(2),p="\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0; // wave 1\n  uniform float u_1; // wave 2\n  uniform float u_2; // wave 3\n  uniform float u_3; // wave 4\n  uniform float u_4; // wave 5\n  uniform float u_5; // scanlines\n  uniform float u_6; // scan_rota\n  uniform float u_7; // zoom\n  uniform float u_8; // brightness\n\n  mat2 rotate(float angle){\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n  }\n\n  void main(){\n    vec2 coord = (gl_FragCoord.xy / u_resolution.xy) * u_7 - u_7;\n    float color = 0.0;\n\n    color += sin(coord.x * u_0 + cos(u_time + coord.y * u_1 + sin(coord.x * u_2 + u_time * 2.0))) * 2.0;\n    color += cos(coord.x * u_3 + sin(u_time + coord.y * u_4 + cos(coord.x * 20.0 + u_time * 2.0))) * 2.0;\n\n    coord = rotate( u_6 ) * coord;\n    color *= cos(coord.y * u_5 + sin(u_time + coord.y)) * 5.5;\n\n    gl_FragColor = vec4(vec3(color, color, color + u_8 / 2.0) * 1.0 + u_8, 1.0 );\n  }\n",g="\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0;\n  uniform float u_1;\n  uniform float u_2;\n  uniform float u_3;\n  uniform float u_4;\n  uniform float u_5;\n  uniform float u_6; // rota\n  uniform float u_7; // zoom\n  uniform float u_8; // brightness\n\n\n  mat2 rotate(float angle){\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n  }\n\n  void main(){\n    vec2 coord = (gl_FragCoord.xy / u_resolution.xy) * u_7;\n    float color = 0.0;\n\n    coord = rotate( u_6 ) * coord;\n\n    color += sin(coord.y) + atan(u_time + coord.y) + sin(u_0 * coord.x / u_time) * 2.0;\n    color += sin(coord.x * u_0 + tan(u_time + coord.y * u_2 + sin(coord.x * u_4 + u_time))) * 2.0;\n    color += cos(coord.x * u_1 + tan(u_time + coord.y * u_3 + cos(coord.x * u_5 + u_time))) * 2.0;\n\n    gl_FragColor = vec4(vec3(color - sin(coord.x * u_time) , color - cos(coord.y * u_time + 9.0), color - sin(coord.y * u_time)) * -0.5 + u_8, 1.0 );\n  }\n",j="\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_0;\n  uniform float u_1;\n  uniform float u_2;\n  uniform float u_3;\n  uniform float u_4;\n  uniform float u_5;\n  uniform float u_6;\n  uniform float u_7;\n  uniform float u_8;\n\n\nvoid main(){\n  vec2 coord = 6.0 * vec2(gl_FragCoord.xy / u_resolution);\n\n  for(int i = 1; i < 4; i++) {\n    float n = float(i);\n    coord += vec2(u_7 / n * sin(n * coord.y + u_0 * n) + 0.8, 0.4 / n * sin(coord.x + u_1 * n) + 1.6);\n  }\n\n  vec3 color = vec3(u_1 * sin(coord.x) + 0.8, 0.5 * sin(coord.y) + 1.0, sin(coord.x + coord.y));\n  color += sin(coord.y * cos(u_time / 20.0)) + u_8 + sin(coord.y * cos(u_time / 30.0) * u_2);\n  color += sin(coord.x * sin(u_time / 30.0) * u_4) + cos(coord.x * cos((u_time / 200.0) ) * ((((u_time + 100.0) / 200.0) * u_6)) / u_4) / u_5 + 0.5;\n  color -= cos(coord.y * sin(u_time / 50.0) * u_3);\n\n  gl_FragColor = vec4(color, 1.20);\n}\n",x=n(0),O=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).sceneSetup=function(){r.scene=new w.g,r.camera=new w.e(r.state.width/-2,r.state.width/2,r.state.height/2,r.state.height/-2,1,1e3),r.camera.position.z=2,r.clock=new w.a,r.now=r.clock.getElapsedTime(),r.geometry=new w.f(r.state.width,r.state.height),r.renderer=new w.j({antialias:!0}),r.renderer.setPixelRatio(window.devicePixelRatio),r.renderer.setSize(r.state.width,r.state.height),r.mount.appendChild(r.renderer.domElement)},r.drawSceneSetup=function(){r.drawScene=new w.g,r.drawTexture=new w.i(r.state.width,r.state.height,{minFilter:w.b,magFilter:w.b}),"0"===r.props.activeShader?r.fshader=p:"1"===r.props.activeShader?r.fshader=g:"2"===r.props.activeShader&&(r.fshader=j),r.drawMaterial=new w.h({uniforms:{u_resolution:{value:{x:r.state.width,y:r.state.height}},u_time:{value:r.now},u_0:{value:r.props.uniforms[0]},u_1:{value:r.props.uniforms[1]},u_2:{value:r.props.uniforms[2]},u_3:{value:r.props.uniforms[3]},u_4:{value:r.props.uniforms[4]},u_5:{value:r.props.uniforms[5]},u_6:{value:r.props.uniforms[6]},u_7:{value:r.props.uniforms[7]},u_8:{value:r.props.uniforms[8]}},fragmentShader:r.fshader}),r.drawPlane=new w.c(r.geometry,r.drawMaterial),r.drawScene.add(r.drawPlane)},r.brcosaSceneSetup=function(){r.brcosaScene=new w.g,r.brcosaTexture=new w.i(r.state.width,r.state.height,{minFilter:w.b,magFilter:w.b}),r.brcosaMaterial=new w.h({uniforms:{drawTexture:{type:"t",value:r.drawTexture.texture},u_resolution:{value:{x:r.state.width,y:r.state.height}},u_time:{value:r.now},u_9:{value:r.props.uniforms[9]},u_10:{value:r.props.uniforms[10]},u_11:{value:r.props.uniforms[11]}},fragmentShader:"\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform vec2 u_resolution; \n  uniform sampler2D drawTexture;\n  uniform float u_9;\n  uniform float u_10;\n  uniform float u_11;\n\n  vec3 hueShift(vec3 color, float hue) {\n    const vec3 k = vec3(0.57735, 0.57735, 0.57735);\n    float cosAngle = cos(hue);\n    return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));\n  }\n\n  void main() {\n    vec2 st = gl_FragCoord.xy / (u_resolution);\n    vec2 uv = st;\n    uv *= 0.998;\n    vec3 texColor = texture2D(drawTexture, uv).rgb;\n\n    const vec3 LumCoeff = vec3(0.2125, 0.7154, 0.0721);\n    vec3 AvgLumin = vec3(0.5, 0.5, 0.5);\n    vec3 intensity = vec3(dot(texColor, LumCoeff));\n\n    vec3 satColor = mix(intensity, texColor, u_10);\n    vec3 conColor = mix(AvgLumin, satColor, u_9);\n\n    vec3 hueColor = hueShift(conColor, u_11);\n\n    gl_FragColor = vec4(1.0 * hueColor, 1.0);\n  }\n"}),r.brcosaPlane=new w.c(r.geometry,r.brcosaMaterial),r.brcosaScene.add(r.brcosaPlane)},r.fbxSceneSetup=function(){r.fbxScene=new w.g,r.textureA=new w.i(r.state.width,r.state.height,{minFilter:w.b,magFilter:w.b}),r.textureB=new w.i(r.state.width,r.state.height,{minFilter:w.b,magFilter:w.b}),r.fbxMaterial=new w.h({uniforms:{bufferTexture:{type:"t",value:r.textureA.texture},u_resolution:{value:{x:r.state.width,y:r.state.height}},drawTexture:{type:"t",value:r.brcosaTexture.texture},u_time:{value:r.now},u_12:{value:r.props.uniforms[12]},u_13:{value:r.props.uniforms[13]},u_14:{value:r.props.uniforms[14]},u_15:{value:r.props.uniforms[15]}},fragmentShader:"\n  #ifdef GL_ES\n    precision highp float;\n  #endif\n\n  uniform vec2 u_resolution; //The width and height of our screen\n  uniform sampler2D bufferTexture; //Our input texture\n  uniform sampler2D drawTexture;\n  uniform float u_time;\n  uniform float u_12;\n  uniform float u_13;\n  uniform float u_14;\n  uniform float u_15;\n\n  void main() {\n    vec2 st = gl_FragCoord.xy / (u_resolution);\n    vec2 uv = st;\n    uv *= u_15;\n\n    vec4 sum = texture2D(bufferTexture, uv);\n    vec4 src = texture2D(drawTexture, uv);\n    sum.r = mix(sum.r, src.r,  sin(u_12));\n    sum.g = mix(sum.g, src.g,  sin(u_13));\n    sum.b = mix(sum.b, src.b,  sin(u_14));\n    gl_FragColor = sum;\n  }\n"}),r.fbxPlane=new w.c(r.geometry,r.fbxMaterial),r.fbxScene.add(r.fbxPlane),r.finalMaterial=new w.d({map:r.textureB}),r.outputPlane=new w.c(r.geometry,r.finalMaterial),r.scene.add(r.outputPlane)},r.startAnimationLoop=function(){r.now=r.clock.getElapsedTime(),r.drawMaterial.uniforms.u_time.value=r.now,r.fbxMaterial.uniforms.u_time.value=r.now,r.renderer.setRenderTarget(r.drawTexture),r.renderer.render(r.drawScene,r.camera),r.renderer.setRenderTarget(null),r.renderer.setRenderTarget(r.brcosaTexture),r.renderer.render(r.brcosaScene,r.camera),r.renderer.setRenderTarget(null),r.renderer.setRenderTarget(r.textureB),r.renderer.render(r.fbxScene,r.camera),r.renderer.setRenderTarget(null);var e=r.textureA;r.textureA=r.textureB,r.textureB=e,r.outputPlane.material.map=r.textureB.texture,r.fbxMaterial.uniforms.bufferTexture.value=r.textureA.texture,r.renderer.render(r.scene,r.camera),r.requestID=window.requestAnimationFrame(r.startAnimationLoop)},r.handleWindowResize=function(){console.log("hey"),r.setState({width:window.innerWidth,height:window.outerHeight}),r.renderer.setSize(window.innerWidth,window.innerHeight),r.camera.aspect=r.state.width/r.state.height,r.camera.updateProjectionMatrix()},r.updateSliders=function(){for(var e=0;e<16;e++){var t="u_"+e,n=r.props.uniforms[e];e<9?r.drawMaterial.uniforms[t]={value:n}:e>=9&&e<=11?r.brcosaMaterial.uniforms[t]={value:n}:e>11&&(r.fbxMaterial.uniforms[t]={value:n})}},r.changeShader=function(){"0"===r.props.activeShader?r.drawMaterial.fragmentShader=p:"1"===r.props.activeShader?r.drawMaterial.fragmentShader=g:r.drawMaterial.fragmentShader=j,r.drawMaterial.needsUpdate=!0},r.state={width:window.innerWidth,height:window.outerHeight},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.sceneSetup(),this.drawSceneSetup(),this.brcosaSceneSetup(),this.fbxSceneSetup(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"componentDidUpdate",value:function(){this.updateSliders(),this.changeShader()}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"canvas",ref:function(t){return e.mount=t}})}}]),n}(i.Component);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t){var n=e.title,s=e.titleId,o=y(e,["title","titleId"]);return i.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px",ref:t,"aria-labelledby":s},o),n?i.createElement("title",{id:s},n):null,r||(r=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),a||(a=i.createElement("path",{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"})))}var C,k,I=i.forwardRef(_);n.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function P(e,t){var n=e.title,r=e.titleId,a=M(e,["title","titleId"]);return i.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,C||(C=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),k||(k=i.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})))}var E,T,A=i.forwardRef(P);n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F(e,t){var n=e.title,r=e.titleId,a=D(e,["title","titleId"]);return i.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,E||(E=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),T||(T=i.createElement("path",{d:"M7 18h2V6H7v12zm4 4h2V2h-2v20zm-8-8h2v-4H3v4zm12 4h2V6h-2v12zm4-8v4h2v-4h-2z"})))}var R,W=i.forwardRef(F);n.p;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e,t){var n=e.title,r=e.titleId,a=L(e,["title","titleId"]);return i.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,R||(R=i.createElement("path",{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"})))}var J,V,G=i.forwardRef(B);n.p;function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K(e,t){var n=e.title,r=e.titleId,a=q(e,["title","titleId"]);return i.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,J||(J=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),V||(V=i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})))}var X=i.forwardRef(K),Y=(n.p,n(24),function(e){var t=e.windowState,n=e.handler,r=function(e){var n="nav-button ";return 1===t[e]&&(n+="active "),n};return Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)("button",{value:0,className:r(0),onClick:n,title:"Shader select [Q]",children:Object(x.jsx)(I,{className:"shader-icon"})}),Object(x.jsx)("button",{value:1,className:r(1),onClick:n,title:"Wave controls [W]",children:Object(x.jsx)(G,{className:"wave-icon"})}),Object(x.jsx)("button",{value:2,className:r(2),onClick:n,title:"Feedback controls [E]",children:Object(x.jsx)(W,{className:"fbx-icon"})}),Object(x.jsx)("button",{value:3,className:r(3),onClick:n,title:"Presets [R]",children:Object(x.jsx)(A,{className:"preset-icon"})}),Object(x.jsx)("button",{value:4,className:r(4),onClick:n,title:"About [T]",children:Object(x.jsx)(X,{className:"info-icon"})})]})}),Z=(n(10),function(e){var t=e.windowState,n=e.activeShader,r=e.handler;return Object(x.jsxs)("div",{id:"shader-ctrl",value:n,className:function(){var e="ctrl-module ";return 0===t[0]?e+="hidden ":e+="showing ",e}(),children:[Object(x.jsx)("header",{className:"center label",children:"SHADERS"}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"center",children:[Object(x.jsx)("button",{className:"0"===n?"button active":"button inactive",onClick:r,value:0,title:"Shader 1 [Z]",children:"[Z]"}),Object(x.jsx)("button",{className:"1"===n?"button active":"button inactive",onClick:r,value:1,title:"Shader 2 [X]",children:"[X]"}),Object(x.jsx)("button",{className:"2"===n?"button active":"button inactive",onClick:r,value:2,title:"Shader 3 [C]",children:"[C]"})]})]})}),Q=function(e){var t=e.windowState,n=e.activeShader,r=e.sliders,a=e.handler;return Object(x.jsxs)("div",{id:"wave-ctrl",className:function(){var e="ctrl-module ";return 0===t[1]?e+="hidden ":e+="showing ",e}(),children:[Object(x.jsx)("header",{className:"center label",children:"WAVES"}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"slider-wrap",children:r[n].filter((function(e){return e[0]<=11})).map((function(e){return Object(x.jsxs)("div",{className:"slider-row",children:[Object(x.jsx)("input",{className:"slider",type:"range",min:0,max:127,"data-target":e[0],"data-min":e[1],"data-max":e[2],value:e[3],onChange:a}),Object(x.jsx)("span",{className:"slider-label",children:e[4]})]},e[0])}))})]})},$=function(e){var t=e.windowState,n=e.activeShader,r=e.sliders,a=e.handler;return Object(x.jsxs)("div",{id:"fbx-ctrl",className:function(){var e="ctrl-module ";return 0===t[2]?e+="hidden ":e+="showing ",e}(),children:[Object(x.jsx)("header",{className:"center label",children:"FEEDBACK"}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"slider-wrap",children:r[n].filter((function(e){return e[0]>11})).map((function(e){return Object(x.jsxs)("div",{className:"slider-row",children:[Object(x.jsx)("input",{className:"slider",type:"range",min:0,max:127,"data-target":e[0],"data-min":e[1],"data-max":e[2],value:e[3],onChange:a}),Object(x.jsx)("span",{className:"slider-label",children:e[4]})]},e[0])}))})]})},ee=(n(13),function(e){var t=e.windowState,n=e.presets,r=e.activePreset,a=e.changeHandler,i=e.saveHandler,s=function(e){var t="button ";return e===r?t+="active ":(t+="inactive ",void 0===n[e]&&(t+="empty ")),t},o=function(e){var t="preset-label ";return void 0!==n[e]&&(t+="hidden"),t};return Object(x.jsxs)("div",{id:"presets",className:function(){var e="info-module ";return 0===t[3]?e+="hidden ":e+="showing ",e}(),children:[Object(x.jsx)("header",{className:"center label",children:"PRESETS"}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"center button-wrap",children:[0,1,2,3,4,5,6,7,8,9].map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("button",{onClick:a,value:e,className:s(e),title:"Preset ["+(e+1)+"]",children:["[",e+1!==10?e+1:0,"]"]}),Object(x.jsx)("span",{className:o(e),children:"EMPTY"})]},e)}))}),Object(x.jsx)("div",{className:"center submit-wrap",children:Object(x.jsx)("button",{className:"save button",title:"save preset [S]",onClick:i,children:"save preset [S]"})})]})}),te=function(e){var t=e.windowState;return Object(x.jsx)("div",{id:"about",className:function(){var e="info-module ";return 0===t[4]?e+="hidden ":e+="showing ",e}(),children:Object(x.jsxs)("div",{className:"text-container",children:[Object(x.jsx)("header",{style:{fontWeight:"bold"},className:"center label",children:"ABOUT"}),Object(x.jsx)("p",{children:"uwu-VS is a semi-modular video synthesis instrument for web browsers."}),Object(x.jsxs)("p",{children:["Inspired by live coding environments ",Object(x.jsx)("a",{href:"https://hydra.ojack.xyz/",target:"blank",children:"HYDRA"})," by Olivia Jack, and ",Object(x.jsx)("a",{href:"https://shawnlawson.github.io/The_Force/",target:"blank",children:"THE FORCE"})," by Shawn Lawson, I wanted to make a browser app flexible enough for live performance but accessible to users without any prior coding experience (though MIDI scripting is encouraged!)"]}),Object(x.jsx)("p",{children:"Built using GLSL and three.js, the structure is as follows:"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Our (drawShader) creates an initial texture based on the sliders in the (WAVES) table"}),Object(x.jsx)("li",{children:"This texture is passed to our (feedbackShader) and processed based on the sliders in the (FEEDBACK) table"})]}),Object(x.jsx)("p",{children:"The active (drawShader) can be changed via the (SHADERS) table or keys [z], [x], [c]."}),Object(x.jsx)("p",{children:"To save a preset, press the [s] key. This will save the current arrangement of sliders (for each shader) to number keys [1]-[0]. Once all ten slots are filled, saving a preset will overwrite the current selection."}),Object(x.jsxs)("p",{children:["All parameters can be controlled via the Web MIDI API (",Object(x.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/MIDIAccess#Browser_compatibility",target:"blank",children:"click here for supported browsers"}),") meaning uwu-VS plays well with others! Try using a control surface or sending MIDI messages from another program (Ableton, Max/MSP, etc.)"]}),Object(x.jsx)("p",{children:"Below you can find a table of accepted keyboard shortcuts and MIDI messages:"}),Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Key"}),Object(x.jsx)("th",{children:"MIDI CC#"}),Object(x.jsx)("th",{children:"Function"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"[esc]"}),Object(x.jsx)("td",{children:"-"}),Object(x.jsx)("td",{children:"fullscreen window"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"[~]"}),Object(x.jsx)("td",{children:"-"}),Object(x.jsx)("td",{children:"hide all UI elements"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"[s]"}),Object(x.jsxs)("td",{children:["40 ",Object(x.jsx)("br",{})," (trigger value: 127)"]}),Object(x.jsx)("td",{children:"save current preset"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"[1]-[0]"}),Object(x.jsxs)("td",{children:["20-29 ",Object(x.jsx)("br",{})," (trigger value: 127)"]}),Object(x.jsx)("td",{children:"recall preset"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"[z] [x] [c]"}),Object(x.jsxs)("td",{children:["30, 21, 32 ",Object(x.jsx)("br",{})," (trigger value: 127)"]}),Object(x.jsx)("td",{children:"select active drawShader"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"-"}),Object(x.jsx)("td",{children:"0-11 (value 0-127)"}),Object(x.jsx)("td",{children:"drawShader sliders"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"-"}),Object(x.jsx)("td",{children:"12-15 (value 0-127)"}),Object(x.jsx)("td",{children:"feedbackShader sliders"})]})]})}),Object(x.jsx)("span",{style:{fontSize:"smaller"},children:"\xa9 2020 d putnam"})]})})},ne=n(12),re=function(e,t,n){var r=Object(ne.a)(t,2),a=r[0],i=r[1],s=Object(ne.a)(n,2),o=s[0],l=s[1];return Number((e-o)/(l-o))*(i-a)+a},ae=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ie=[[[0,1,30,0,"\u223f1"],[1,150,10,30,"\u223f2"],[2,1,200,110,"\u223f3"],[3,20,50,118,"\u223f4"],[4,1,100,26,"\u223f5"],[5,0,100,0,"scan"],[6,0,2.09,0,"rota"],[7,.5,.1,60,"zoom"],[8,-1,2,45,"brightness"],[9,.65,1,127,"contrast"],[10,0,2,127,"saturation"],[11,0,6.28,127,"hue"],[12,.4,0,60,"\u223fR"],[13,.4,0,9,"\u223fG"],[14,.3,0,83,"\u223fB"],[15,1,.98,0,"\u0394"]],[[0,1,90,1,"\u223f1"],[1,1,100,127,"\u223f2"],[2,1,100,100,"\u223f3"],[3,0,100,127,"\u223f4"],[4,-100,100,100,"\u223f5"],[5,-100,100,0,"\u223f6"],[6,-.5,.5,42,"rota"],[7,.4,.1,63,"zoom"],[8,0,2,68,"brightness"],[9,.65,1,71,"contrast"],[10,0,2,60,"saturation"],[11,0,6.28,127,"hue"],[12,.4,0,30,"\u223fR"],[13,.4,0,0,"\u223fG"],[14,.3,0,10,"\u223fB"],[15,1,.98,0,"\u0394"]],[[0,0,5,119,"\u223f1"],[1,0,5,26,"\u223f2"],[2,10,30,99,"\u223f3"],[3,0,15,0,"\u223f4"],[4,1,7,40,"\u223f5"],[5,.1,1,31,"\u223f6"],[6,15,80,100,"\u223f7"],[7,0,1.5,110,"warp"],[8,-2,1,31,"brightness"],[9,.65,1,127,"contrast"],[10,0,2,127,"saturation"],[11,0,6.28,127,"hue"],[12,.4,0,101,"\u223fR"],[13,.4,0,39,"\u223fG"],[14,.3,0,92,"\u223fB"],[15,1,.98,18,"\u0394"]]],se=(n(25),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).handleShaderChange=function(e){r.setState({activeShader:e.target.value}),r.setState({uniforms:r.state.sliders[e.target.value].map((function(e){return re(e[3],[e[1],e[2]],[0,127])}))})},r.handleSliderChange=function(e){var t=Number(e.target.dataset.target),n=r.state.sliders.map((function(e){return e}));n[r.state.activeShader][t][3]=Number(e.target.value),r.setState({sliders:n});var a=[n[r.state.activeShader][t][1],n[r.state.activeShader][t][2]],i=[Number(0),Number(127)];(function(){var e=Object(h.a)(d.a.mark((function e(){var n,s,o,l,c,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<10)){e.next=15;break}return s=r.state.uniforms[t],o=re(r.state.sliders[r.state.activeShader][t][3],a,i)/1,l=-1*(s-(s*(1-(d=.1))+o*d)),c=s,u=r.state.uniforms.map((function(e){return e})),c+=Number(l),u[t]=c,r.setState({uniforms:u}),e.next=12,ae(15);case 12:n++,e.next=1;break;case 15:case"end":return e.stop()}var d}),e)})));return function(){return e.apply(this,arguments)}})()()},r.handlePresetChange=function(e){r.state.presets[e.target.value]&&r.setState({activePreset:Number(e.target.value),activeShader:r.state.presets[e.target.value].activeShader,sliders:r.state.presets[e.target.value].sliders,uniforms:r.state.presets[e.target.value].uniforms})},r.handlePresetSave=function(){var e=JSON.parse(JSON.stringify(r.state.sliders)),t={activeShader:r.state.activeShader,sliders:e,uniforms:r.state.uniforms},n=r.state.presets.map((function(e){return e}));if(n.length<10){r.setState({activePreset:n.length});var a=n.concat(t);r.setState({presets:a}),window.localStorage.setItem("ursprst",JSON.stringify(a))}else n[r.state.activePreset]=t,r.setState({presets:n}),window.localStorage.setItem("ursprst",JSON.stringify(n))},r.handleWindowChange=function(e){var t=r.state.windowState.map((function(e){return e}));window.screen.width<415||window.screen.width<813&&window.screen.height<415?1===t[e.target.value]?t=r.state.windowState.map((function(){return 0})):(t=r.state.windowState.map((function(){return 0})))[e.target.value]=1:0===t[e.target.value]?t[e.target.value]=1:t[e.target.value]=0,r.setState({windowState:t})},r.showHideControls=function(){var e="controls ";return 0===r.state.windowState[0]&&0===r.state.windowState[1]&&0===r.state.windowState[2]?e+="hidden":e+="showing",e},r.handleKeyPress=function(e){81===e.keyCode?r.handleWindowChange({target:{value:0}}):87===e.keyCode?r.handleWindowChange({target:{value:1}}):69===e.keyCode?r.handleWindowChange({target:{value:2}}):82===e.keyCode?r.handleWindowChange({target:{value:3}}):84===e.keyCode?r.handleWindowChange({target:{value:4}}):90===e.keyCode?r.handleShaderChange({target:{value:"0"}}):88===e.keyCode?r.handleShaderChange({target:{value:"1"}}):67===e.keyCode?r.handleShaderChange({target:{value:"2"}}):e.keyCode>=49&&e.keyCode<=57?r.state.presets.length>=e.keyCode-48&&r.handlePresetChange({target:{value:e.keyCode-49}}):48===e.keyCode?10===r.state.presets.length&&r.handlePresetChange({target:{value:9}}):83===e.keyCode?r.handlePresetSave():192===e.keyCode?!1===r.state.hideAllState?r.setState({hideAllState:!0}):r.setState({hideAllState:!1}):27===e.keyCode&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen())},r.midiMount=function(){navigator.requestMIDIAccess?navigator.requestMIDIAccess().then(r.onMIDISuccess,r.onMIDIFailure):console.log("WebMIDI is not supported in this browser.")},r.onMIDIFailure=function(){console.log("Could not access your MIDI devices.")},r.onMIDISuccess=function(e){var t,n=Object(c.a)(e.inputs.values());try{for(n.s();!(t=n.n()).done;){t.value.onmidimessage=r.getMIDIMessage}}catch(a){n.e(a)}finally{n.f()}},r.getMIDIMessage=function(e){var t=e.data;if(t[1]<=15){var n={target:{dataset:{target:t[1]},value:t[2]}};r.handleSliderChange(n)}else 30===t[1]&&127===t[2]?r.handleShaderChange({target:{value:"0"}}):31===t[1]&&127===t[2]?r.handleShaderChange({target:{value:"1"}}):32===t[1]&&127===t[2]?r.handleShaderChange({target:{value:"2"}}):t[1]>=20&&t[1]<=29&&127===t[2]?29===t[1]?r.handlePresetChange({target:{value:9}}):r.handlePresetChange({target:{value:t[1]-20}}):40===t[1]&&127===t[2]&&r.handlePresetSave()},window.localStorage.getItem("ursprst")?r.state={sliders:JSON.parse(localStorage.getItem("ursprst"))[0].sliders,activeShader:JSON.parse(localStorage.getItem("ursprst"))[0].activeShader,activePreset:0,windowState:window.screen.width<813&&(window.screen.height<415||window.screen.width<415)?[1,0,0,0,0]:[1,1,1,0,0],hideAllState:!1,uniforms:JSON.parse(localStorage.getItem("ursprst"))[0].uniforms,presets:JSON.parse(localStorage.getItem("ursprst"))}:r.state={sliders:JSON.parse(JSON.stringify(ie)),activeShader:"0",activePreset:0,windowState:window.screen.width<813&&(window.screen.height<415||window.screen.width<415)?[1,0,0,0,0]:[1,1,1,0,0],hideAllState:!1,uniforms:ie[0].map((function(e){return re(e[3],[e[1],e[2]],[0,127])})),presets:[{activeShader:"0",sliders:JSON.parse(JSON.stringify(ie)),uniforms:ie[0].map((function(e){return re(e[3],[e[1],e[2]],[0,127])}))}]},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress),"https:"===window.location.protocol?this.midiMount():console.log("connect via HTTPS to use MIDI features!")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(O,{activeShader:this.state.activeShader,uniforms:this.state.uniforms}),Object(x.jsx)("div",{style:!0===this.state.hideAllState?{visibility:"hidden"}:{visibility:"visible"},children:Object(x.jsxs)("div",{style:window.screen.width<415?{display:"block"}:{display:"flex"},className:"container",children:[Object(x.jsx)(Y,{windowState:this.state.windowState,handler:this.handleWindowChange}),Object(x.jsxs)("div",{className:this.showHideControls(),children:[Object(x.jsx)(Z,{windowState:this.state.windowState,activeShader:this.state.activeShader,handler:this.handleShaderChange}),Object(x.jsx)(Q,{windowState:this.state.windowState,activeShader:this.state.activeShader,sliders:this.state.sliders,handler:this.handleSliderChange}),Object(x.jsx)($,{windowState:this.state.windowState,activeShader:this.state.activeShader,sliders:this.state.sliders,handler:this.handleSliderChange})]}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)(ee,{presets:this.state.presets,windowState:this.state.windowState,activePreset:this.state.activePreset,changeHandler:this.handlePresetChange,saveHandler:this.handlePresetSave}),Object(x.jsx)(te,{windowState:this.state.windowState})]})]})})]})}}]),n}(i.Component));l.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(se,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.ac5a7496.chunk.js.map